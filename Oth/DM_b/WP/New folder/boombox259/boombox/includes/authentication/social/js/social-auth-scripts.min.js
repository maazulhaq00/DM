function OnGoogleAuth(a){var o=jQuery(this).closest(".authentication"),s=o.hasClass("is-nsfw-auth"),t=ajax_social_auth_object.register_redirect_url;a.status.signed_in&&"PROMPT"==a.status.method?(o.find("p.status").show().text(ajax_social_auth_object.loading_message),jQuery.post(ajax_social_auth_object.ajaxurl,{action:"boombox_social_auth",social_type:"google",access_token:a.access_token,_nonce:ajax_social_auth_object.nonce},function(a){var e=jQuery.parseJSON(a);return""!=e.error?o.find("p.status").show().text(e.error):(s&&(t=ajax_social_auth_object.nsfw_redirect_url),"login"==e.action&&(t=ajax_social_auth_object.login_redirect_url),document.location.href=t,void 0)})):"immediate_failed"!=a.error&&o.find("p.status").show().text(ajax_social_auth_object.login_failed)}jQuery(function(a){"use strict";a(document).on("click",".facebook-login-button-js",function(){if(!boombox_fb_app_validity)return!1;var o=a(this).closest(".authentication"),s=o.find("p.status-msg");o.hasClass("is-nsfw-auth");return s.removeClass("msg-success msg-error").addClass("msg-info").html(ajax_social_auth_object.loading_message).show(),FB.login(function(o){"connected"==o.status?(s.removeClass("msg-success msg-error").addClass("msg-info").html(ajax_social_auth_object.login_success_wait).show(),a.post(ajax_social_auth_object.ajaxurl,{action:"boombox_social_auth",social_type:"facebook",redirect_url:ajax_social_auth_object.login_redirect_url,access_token:o.authResponse.accessToken,_nonce:ajax_social_auth_object.nonce},function(a){a.success?(s.removeClass("msg-error msg-info").addClass("msg-success").html(a.data),document.location.href=ajax_social_auth_object.login_redirect_url):s.removeClass("msg-success msg-info").addClass("msg-error").html(a.data)})):s.removeClass("msg-success msg-info").addClass("msg-error").html(ajax_social_auth_object.login_failed)},{scope:"email"}),!1}),a(document).on("click",".google-login-button-js",function(){var a={clientid:ajax_social_auth_object.google_oauth_id,cookiepolicy:"single_host_origin",callback:"OnGoogleAuth",scope:"email profile"};return gapi.auth.signIn(a),!1})});